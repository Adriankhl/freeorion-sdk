From da99866918b84304742710c825044ec51edcf800 Mon Sep 17 00:00:00 2001
From: Marcel Metz <mmetz@adrian-broher.net>
Date: Fri, 4 Nov 2016 19:36:23 +0100
Subject: [PATCH] Enable MACOSX_RPATH to prefix the install_name for Mac
 frameworks with @rpath

---
 cmake/libpython/CMakeLists.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/cmake/libpython/CMakeLists.txt b/cmake/libpython/CMakeLists.txt
index 850f5e9..415d6d7 100644
--- a/cmake/libpython/CMakeLists.txt
+++ b/cmake/libpython/CMakeLists.txt
@@ -475,7 +475,7 @@ function(add_libpython name type install component)
             MACOSX_FRAMEWORK_IDENTIFIER org.python.python
             MACOSX_FRAMEWORK_SHORT_VERSION_STRING "${PY_VERSION_MAJOR}.${PY_VERSION_MINOR}"
             MACOSX_FRAMEWORK_BUNDLE_VERSION "${PY_VERSION_MAJOR}.${PY_VERSION_MINOR}"
-            XCODE_ATTRIBUTE_INSTALL_PATH "@rpath"
+            MACOSX_RPATH ON
             OUTPUT_NAME ${FRAMEWORK_NAME}
         )
     endif()
-- 
2.7.4

